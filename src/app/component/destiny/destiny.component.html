<div *ngIf="isThisComponentReady" class="game-component">
  <destiny-profile class="component"
                   [profile]="profile"
                   [characterTitleNomenclatures]="characterTitleNomenclatures">
  </destiny-profile>
  <destiny-component-selector class="component">
  </destiny-component-selector>
  <div class="game-data">
    <destiny-postmaster
      [characterInventories]="profile.characterInventories"
      [itemInstances]="profile.itemInstances"
      [itemNomenclatures]="itemNomenclatures">
    </destiny-postmaster>
    <destiny-vendors *ngIf="componentToShow === 'vendors'" class="component"
                     [vendorGroups]="vendorGroups">
    </destiny-vendors>
    <destiny-collections *ngIf="componentToShow === 'collections'" class="component">
    </destiny-collections>
    <destiny-titles *ngIf="componentToShow === 'titles' && !componentArgs.selectedTitle"
                    [titlesPresentationTree]="presentationTrees.titles!"
                    [archivedTitlesPresentationTree]="presentationTrees.archivedTitles!"
                    [presentationNodeProgress]="profile.presentationNodeProgress">
    </destiny-titles>
    <destiny-title *ngIf="componentToShow === 'titles' && componentArgs.selectedTitle" class="component"
                    [title]="componentArgs.selectedTitle!"
                    [presentationNodeProgress]="profile.presentationNodeProgress">
    </destiny-title>
    <destiny-characters *ngIf="componentToShow === 'characters'" class="component"
                        [profileInventory]="profile.profileInventory"
                        [characterEquipment]="profile.characterEquipment"
                        [characterInventories]="profile.characterInventories"
                        [itemInstances]="profile.itemInstances"
                        [itemNomenclatures]="itemNomenclatures"
                        [characters]="profile.characters"
                        [kineticWeaponModelsPresentationTree]="presentationTrees.kineticWeaponModels!"
                        [energyWeaponModelsPresentationTree]="presentationTrees.energyWeaponModels!"
                        [powerWeaponModelsPresentationTree]="presentationTrees.powerWeaponModels!"
                        [presentationNodeProgress]="profile.presentationNodeProgress">
    </destiny-characters>
    <destiny-models *ngIf="componentToShow === 'models'" class="component"
                    [kineticWeaponModelsPresentationTree]="presentationTrees.kineticWeaponModels!"
                    [energyWeaponModelsPresentationTree]="presentationTrees.energyWeaponModels!"
                    [powerWeaponModelsPresentationTree]="presentationTrees.powerWeaponModels!"
                    [presentationNodeProgress]="profile.presentationNodeProgress">
    </destiny-models>
    <destiny-catalysts *ngIf="componentToShow === 'catalysts'" class="component"
                       [catalystsPresentationTree]="presentationTrees.catalysts!"
                       [presentationNodeProgress]="profile.presentationNodeProgress">
    </destiny-catalysts>
    <destiny-main-inventory
      [profileInventory]="profile.profileInventory"
      [profileCurrencies]="profile.profileCurrencies"
      [itemNomenclatures]="itemNomenclatures">
    </destiny-main-inventory>
  </div>
</div>
<loading-screen *ngIf="!isDatabaseUpToDate" [message]="'Downloading last Destiny database'" class="primary-component"></loading-screen>
<loading-screen *ngIf="isDatabaseUpToDate && !isThisComponentReady" [message]="'Recovering your Destiny data'" class="primary-component"></loading-screen>
